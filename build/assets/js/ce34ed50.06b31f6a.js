"use strict";(self.webpackChunkyoutil=self.webpackChunkyoutil||[]).push([[914],{2533:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});var r=t(8478),s=t(757).A;const o=function(){return s(r.A,null,(function(){var e=t(4916).A;return s(e,null)}))}},4916:(e,n,t)=>{t.d(n,{A:()=>v});var r,s=t(675),o=t(467),a=t(858),c=t(4898),u=t(7890),l=t(1635),i=function(e){return Object.keys(e||{}).filter((function(n){return void 0!==e[n]})).map((function(n){var t="object"==typeof e[n]?JSON.stringify(e[n]):e[n];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t))})).join("&")},d=(r=(0,a.A)((function(e,n){var t,r,s,o,a,d,f,h,p,v,m,b,g,A,O,w,y,j,k,C;return(0,l.YH)(this,(function(l){switch(l.label){case 0:if(t={errorMessage:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",errorHandler:function(e){var t;throw(null==n?void 0:n.silent)||null==n||null===(t=n.toastHandler)||void 0===t||t.call(n,e),new Error(e)},baseUrl:"",headers:{},fetchOptions:{credentials:"include"},checkSuccess:function(e){return 0==(null==e?void 0:e.code)||200==(null==e?void 0:e.code)},toastHandler:function(e){return console.error("[\u60a8\u8fd8\u6ca1\u6709\u914d\u7f6etoastHandler\uff0c\u8bf7\u6839\u636e\u60a8\u7684UI\u7ec4\u4ef6\u5e93\u914d\u7f6e\u5408\u9002\u7684\u63d0\u793a\u65b9\u6cd5] ".concat(e||""))},onFetchResponse:function(e){if(200===e.status)return e.json();var n={code:e.status,status:e.status,message:e.statusText,headers:e.headers,_response:e},t=new Error(n.message);throw t.response=n,t}},(n=Object.assign({},t,n||{})).fetchOptions=(0,u.A)({},n.fetchOptions||{}),s=(r=n||{}).params,o=r.data,a=r.formData,d=r.json,f=r.method,h=r.headers,p=r.baseUrl,v=r.fetchOptions,m=r.checkSuccess,b=r.afterRequest,g=r.errorHandler,A=r.errorMessage,O=r.responseConverter,w=r.onFetchResponse,v.headers=(0,u.A)({},h||{},v.headers||{}),s&&(v.method=f||"GET",e="".concat(e).concat(e.indexOf("?")>=0?"&":"?").concat(i(s))),o)Object.assign(v,{method:f||"POST",body:i(o),headers:(0,u.A)({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},v.headers||{})});else if(a){if(y=a,!(0,c.A)(a,FormData))for(var S in y=new FormData,a)y.append(S,a[S]);Object.assign(v,{method:f||"POST",body:y})}else d&&Object.assign(v,{method:f||"POST",body:JSON.stringify(d),headers:(0,u.A)({"Content-Type":"application/json;charset=utf-8"},v.headers||{})});j=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch("".concat(p||"").concat(e),v).then(w)];case 2:return j=l.sent(),[3,4];case 3:return k=l.sent(),console.error(k),null==b||b(!1,{message:null==k?void 0:k.message}),null==g||g((null===(C=k.response)||void 0===C?void 0:C.message)||A||"",k.response),[2,void 0];case 4:return j=O?O(j):j,(null==m?void 0:m(j))?(null==b||b(!0,j),[2,j.data]):(null==b||b(!1,j),null==g||g(j.message||j.msg||A||"",j),[2,void 0])}}))})),function(e,n){return r.apply(this,arguments)}),f=function(e,n){var t=n;return n||(t=e,e=d),function(n,r){return e(n,(0,u.A)({},t||{},r||{}))}},h=(t(6540),t(757).A),p=new f({errorMessage:"\u6211\u662f222",fetchOptions:{}});new f({baseUrl:"/api/"},p);const v=function(){var e=function(){var e=(0,o.A)((0,s.A)().mark((function e(){var n;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("test-post",{data:{a:1},onFetchResponse:function(e){return{code:0,data:e.headers}}});case 2:n=e.sent,console.log(n,Object.fromEntries(n.entries()));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h("div",null,h("a",{href:"javascript:;",onClick:e},"\u70b9\u51fb\u8bf7\u6c42"))}},8478:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var r=t(2303),s=t(757).A,o=t(6540).Fragment;function a(e){var n=e.children,t=e.fallback;return(0,r.A)()?s(o,null,null==n?void 0:n()):null!=t?t:null}}}]);