var youtil=(()=>{var I=Object.defineProperty,A=Object.defineProperties,K=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var H=(e,n,t)=>n in e?I(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,R=(e,n)=>{for(var t in n||(n={}))j.call(n,t)&&H(e,t,n[t]);if(L)for(var t of L(n))X.call(n,t)&&H(e,t,n[t]);return e},P=(e,n)=>A(e,N(n));var J=(e,n)=>{for(var t in n)I(e,t,{get:n[t],enumerable:!0})},Z=(e,n,t,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of V(n))!j.call(e,r)&&r!==t&&I(e,r,{get:()=>n[r],enumerable:!(s=K(n,r))||s.enumerable});return e};var z=e=>Z(I({},"__esModule",{value:!0}),e);var ye={};J(ye,{Request:()=>ie,copyToClipboard:()=>ee,createEnum:()=>Y,decodeHtml:()=>_,deepCopy:()=>W,delParam:()=>ae,encodeHtml:()=>D,formatDate:()=>ce,formatJson:()=>ge,getIdCardLastChar:()=>F,getParam:()=>E,getParamInt:()=>re,getParams:()=>se,getRandom:()=>B,getRandomStr:()=>de,hideLoading:()=>M,initWindowMessage:()=>Q,keyCodes:()=>te,parseDate:()=>le,request:()=>v,setParam:()=>oe,showLoading:()=>G,sleep:()=>ue,toHump:()=>fe,toUnderline:()=>pe,toUrlParams:()=>T,validateIdCard:()=>ne});function Y(e){let n=[...e],t={},s={};return e.forEach(r=>{t[r.value]=r,s[r.label]=r,r.key&&(t[r.key]=r,typeof r.key=="number"?console.error("createEnum\u4E2D\u7684key\u4E0D\u80FD\u4E3A\u7EAF\u6570\u5B57"):n[r.key]=r.value)}),n.pick=r=>t[r],n.pickLabel=r=>{var o;return(o=n.pick(r))==null?void 0:o.label},n.pickValue=r=>{var o;return(o=n.pick(r))==null?void 0:o.value},n.pickKey=r=>{var o;return(o=n.pick(r))==null?void 0:o.key},n.pickByLabel=r=>s[r],n}var G=(e="\u8BF7\u7A0D\u5019",n=10,t={})=>{t=Object.assign({},{hasMask:!1,maskColor:"#00000070",onCancel:null,cancelInline:!1,id:"com_global_page_loading"},t);let{id:r,hasMask:o,maskColor:l,onCancel:g,cancelInline:w}=t,x=`_${r}_timeout`;window[x]&&clearTimeout(window[x]);let u=document.getElementById(r);u||(u=document.createElement("div"),u.id=r,u.className=r,document.body.append(u));let i=`${r}_style`;if(!document.getElementById(i)){let c=document.createElement("style");c.id=i,c.innerHTML=`
		.${r} {
			position: fixed;
			left: 0;
			top: 0;
			width: 100vw;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			pointer-events: none;
			z-index: 10000;
		}
		.${r}.show-mask {
			pointer-events: unset;
			background: #00000070;
		}
		.${r} .mask-wrapper {
			position: fixed;
		}
		.${r} .loading-wrapper {
			width: 120px;
			height: 120px;
			z-index: 8000;
			background: rgba(0, 0, 0, 0.6);
			border-radius: 8px;
			text-align: center;
			color: white;
			display: flex;
			justify-content: center;
			flex-direction: column;
			align-items: center;
			pointer-events: initial;
			line-height: 1.3;
		}
		.${r} .loading-wrapper img {
			width: 50px;
			height: 50px;
			margin-bottom: 10px;
		}
		.${r} .loading-wrapper a {
			color: #6ab2ff;
		}`,document.head.appendChild(c)}if(u.innerHTML=`
		<div class="loading-wrapper">
			<img src="https://img.alicdn.com/tfs/TB1bnUsQBLoK1RjSZFuXXXn0XXa-32-32.svg" alt="\u52A0\u8F7D\u4E2D">
			<div>
				<span>${e}</span>
				${w?"":"<br />"}
				${g?'<a href="javascript:;" class="cancel">\u53D6\u6D88</a>':""}
			</div>
		</div>`,g){let c=u.querySelector(".cancel");c&&c.addEventListener("click",()=>{M(),g()})}u.addEventListener("click",()=>{M()}),u.style.display="flex",u.style.background=o?l:"transparent",u.className=`${r} ${o?"show-mask":""}`,n>0&&(window[x]=setTimeout(()=>{M()},n*1e3))},M=()=>{let n=document.getElementById("com_global_page_loading");n&&(n.style.display="none")};function Q(e,n){!n&&window!==window.parent&&(n=window.parent),!n&&window.opener&&(n=window.opener);let t=new Map,s=new Map,r=()=>Math.random().toString(36).substring(2),o={},l="_local_function_";function g(i){let c=`${l}${r()}`;return o[c]=i,c}let w=(i,c)=>(i==null?void 0:i.map(d=>{if(typeof d=="object")for(let k in d)d[k]=c(d[k]);return c(d)}))||[];function x(i,...c){if(!n){console.warn("TargetWindow is null.");return}return new Promise((d,k)=>{let f=r();t.set(f,{resolve:d,reject:k}),n.postMessage({scene:e,type:"event",eventName:i,payload:w(c,m=>typeof m=="function"?g(m):m),callbackId:f},"*")})}window.addEventListener("message",async i=>{if(!i.data||i.data.scene!==e)return;n=i.source;let{type:c,eventName:d,payload:k,callbackId:f}=i.data;if(c==="event"){let m=w(k,y=>{if(typeof y=="string"&&y.startsWith(l)){let p=`getFn_${y}`;return(...b)=>x("executeLocalFunction",p,...b)}return y}),h=s.get(d)||[],O=s.get("*")||[];try{let y=await Promise.all(h.map(b=>Promise.resolve(b(...m)))),p=await Promise.all(O.map(b=>Promise.resolve(b(d,...m))));if(f){let b=y[y.length-1]||p[p.length-1];if(!h.length&&!b)return;n.postMessage({scene:e,type:"callback",callbackId:f,payload:b},"*")}}catch(y){console.error(y),f&&n.postMessage({scene:e,type:"callback",callbackId:f,error:y||"unknown error"},"*")}}else if(c==="callback"&&f){let m=t.get(f);m&&(i.data.error?m.reject(i.data.error):m.resolve(i.data.payload),t.delete(f))}});function u(i,c){s.has(i)||s.set(i,[]),s.get(i).push(c)}return u("executeLocalFunction",(i,...c)=>{if(i=(i==null?void 0:i.replace("getFn_",""))||"",!o[i])throw new Error(`\u672A\u627E\u5230\u672C\u5730\u7F13\u5B58\u65B9\u6CD5\uFF1A${i}`);return o[i](...c)}),x("auto-connect"),{postMessage:x,onMessage:u}}var W=e=>!e||typeof e!="object"?e:JSON.parse(JSON.stringify(e)),D=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerText=e,n.innerHTML}else if(typeof e=="object"&&e)for(let n in e)e[n]=D(e[n]);return e},_=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerHTML=e,n.innerText}else if(typeof e=="object"&&e)for(let n in e)e[n]=_(e[n]);return e},ee=(e,n,t)=>{if(!e)throw new Error("text can not be empty.");return n=n||(s=>console.error(`\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25\uFF1A${s||""}`)),navigator.clipboard&&!t?navigator.clipboard.writeText(e).catch(s=>{throw n(s.message),s}):new Promise((s,r)=>{let o=document.createElement("input");o.value=e,o.style.cssText="position:fixed;left:0;top:0;opacity:0;",document.body.appendChild(o),o.select();try{if(document.execCommand("copy"))s();else{let l="Failed to execute 'document.execCommand'.";n(l),r(new Error(l))}}catch(l){n(l.message),r(l)}finally{document.body.removeChild(o)}})},F=e=>{if(!e||e.length<17)throw new Error("\u4F20\u5165\u7684\u8EAB\u4EFD\u8BC1\u53F7\u957F\u5EA6\u5FC5\u987B>=17");let n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],t=["1","0","X","9","8","7","6","5","4","3","2"],s=0;for(let r=0;r<17;r++)s+=parseInt(e.charAt(r),10)*n[r];return t[s%11]},ne=e=>!e||e.length!==18?(console.error("\u8EAB\u4EFD\u8BC1\u53F7\u4E0D\u662F18\u4F4D\uFF01"),!1):`${F(e)}`===e.charAt(17),te=(()=>{let e={backspace:8,tab:9,clear:12,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46};for(let n=48;n<=57;n++)e[String.fromCharCode(n)]=n;for(let n=65;n<=90;n++)e[String.fromCharCode(n).toLowerCase()]=n;for(let n=96;n<=105;n++)e[`num${n-96}`]=n;for(let n=112;n<=123;n++)e[`f${n-111}`]=n;return e})();var E=(e,n=location.search)=>(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g").exec(n)||[])[2],re=(e,n=location.search)=>parseInt(E(e,n)||"0",10),se=(e=location.search)=>{let n=((e||"").split("?").pop()||"").split("#")[0]||"",t={};return n.split("&").map(s=>s.split("=")).forEach(([s,r])=>{t[s]=r||""}),t},oe=(e,n,t)=>{if(t=t||`${location.pathname}${location.search}`,E(e,t)!==void 0)return t.replace(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g"),`$1${e}=${n}`);let[s,r]=t.split("#");return`${s}${s.indexOf("?")<0?"?":"&"}${e}=${n}${r?"#":""}${r||""}`},ae=(e,n)=>(n=n||`${location.pathname}${location.search}`,n.replace(new RegExp(`(^|\\?|&)${e}=.*?(&|#|$)`,"g"),(t,s,r)=>r==="&"?s:r)),T=e=>Object.keys(e||{}).filter(n=>e[n]!==void 0).map(n=>{let t=typeof e[n]=="object"?JSON.stringify(e[n]):e[n];return`${encodeURIComponent(n)}=${encodeURIComponent(t)}`}).join("&");var C=(e,n)=>{let t=Object.assign({},(e==null?void 0:e.headers)||{},(n==null?void 0:n.headers)||{}),s=Object.assign({},(e==null?void 0:e.fetchOptions)||{},(n==null?void 0:n.fetchOptions)||{});return Object.assign({},e||{},n||{},{headers:t,fetchOptions:s})},S=class extends Error{constructor(n,t){super(n),Object.assign(this,t||{})}},v=async(e,n)=>{var b,q;n=C({errorMessage:"\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",errorHandler:a=>{var $;throw!(n!=null&&n.silent)&&a&&(($=n==null?void 0:n.toastHandler)==null||$.call(n,a)),new Error(a)},baseUrl:"",headers:{},fetchOptions:{credentials:"include"},checkSuccess:a=>(a==null?void 0:a.code)==0||(a==null?void 0:a.code)==200,toastHandler:a=>console.error(`[\u60A8\u8FD8\u6CA1\u6709\u914D\u7F6EtoastHandler\uFF0C\u8BF7\u6839\u636E\u60A8\u7684UI\u7EC4\u4EF6\u5E93\u914D\u7F6E\u5408\u9002\u7684\u63D0\u793A\u65B9\u6CD5] ${a||""}`),onFetchResponse:a=>{if(a.status===200)return a.json();throw new S(a.statusText,{response:P(R({},a),{code:a.status,message:a.statusText,isHttpResponse:!0})})}},n);let{params:s,data:r,formData:o,json:l,method:g,headers:w,baseUrl:x,fetchOptions:u,checkSuccess:i,afterRequest:c,errorHandler:d,errorMessage:k,responseConverter:f,onFetchResponse:m,setLoading:h,overrideMessage:O}=n||{},y=(n==null?void 0:n.defaultErrorMessage)||k;if(u.headers=R(R({},w||{}),u.headers||{}),s&&(u.method=g||"GET",e=`${e}${e.indexOf("?")>=0?"&":"?"}${T(s)}`),r)Object.assign(u,{method:g||"POST",body:T(r),headers:R({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},u.headers||{})});else if(o){let a=o;if(!(o instanceof FormData)){a=new FormData;for(let $ in o)a.append($,o[$])}Object.assign(u,{method:g||"POST",body:a})}else l&&Object.assign(u,{method:g||"POST",body:JSON.stringify(l),headers:R({"Content-Type":"application/json;charset=utf-8"},u.headers||{})});let p=null;h==null||h(!0);try{let a=`${/^(http|\/\/)/g.test(e)?"":x||""}${e}`;a.indexOf("//")===0&&location.protocol==="blob:"&&(a=`${(b=location.pathname.split(":"))==null?void 0:b[0]}:${a}`),p=await fetch(a,u).then(m)}catch(a){console.error(a),h==null||h(!1),c==null||c(!1,a.response);let $=typeof O=="function"?O(a.response):O;d==null||d($!=null?$:((q=a.response)==null?void 0:q.message)||y,a.response,n);return}if(h==null||h(!1),p=f?f(p):p,i!=null&&i(p))return c==null||c(!0,p),p.data;{c==null||c(!1,p);let a=typeof O=="function"?O(p):O;d==null||d(a!=null?a:p.message||y,p,n);return}},U=function(e){let n=C(this.overrideDefaultOptions,e),t=(s,r)=>v(s,C(n,r));return t.overrideDefaultOptions=n,t.create=U.bind(t),t};v.create=U.bind(v);var ie=function(e,n){let t=n;return n||(t=e,e=v),(s,r)=>e(s,R(R({},t||{}),r||{}))};var ce=(e,n)=>{if(!e)return"";if(typeof e=="number")e=new Date(e);else if(typeof e=="string")if(/^\d{12,13}$/g.test(e))e=new Date(parseInt(e,10));else if(/^.{10}T.{8,12}Z?$/g.test(e))e=new Date(e);else return e;if(!(e instanceof Date))throw new Error("formatDate error: not date.");if(isNaN(e==null?void 0:e.getFullYear()))throw new Error("formatDate error: invalid date.");n=n||"yyyy-MM-dd HH:mm:ss";let t={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},s=["\u5929","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"];for(let r in t)n=n.replace(new RegExp(`${r}+`,"g"),o=>{let l=`${t[r]}`;if(r==="w")return`${o.length>2?"\u661F\u671F":"\u5468"}${s[l]}`;for(let g=0,w=l.length;g<o.length-w;g++)l=`0${l}`;return o.length===1?l:l.substring(l.length-o.length)});return n},le=(e,n)=>{n=n||"yyyy-MM-dd";let t={y:0,M:1,d:0,H:0,h:0,m:0,s:0,S:0};n.replace(/([^yMdHmsS]*?)(([yMdHmsS])\3*)([^yMdHmsS]*?)/g,(r,o,l,g,w)=>(e=e.replace(new RegExp(`${o}(\\d{${l.length}})${w}`),(x,u)=>(t[g]=parseInt(u,10),"")),"")),t.M--;let s=new Date(t.y,t.M,t.d,t.H,t.m,t.s);return t.S!==0&&s.setMilliseconds(t.S),s},ue=e=>new Promise(n=>setTimeout(n,e||0));var ge=(json,indent,leftBracesInSameLine)=>{function getIndentStr(e){let n="";for(let t=0;t<e;t++)n+=indent||"	";return n}function format(e,n){n=n===void 0?0:n;let t="";if(typeof e=="object"&&e!=null){let s=e instanceof Array,r=0;t+=`${s?"[":"{"}
`;for(let o in e){t+=r++>0?`,
`:"";let l=typeof e[o]=="object"&&e[o]!=null,g=getIndentStr(n+1);t+=s&&l?"":g,t+=s?"":`"${o}": ${l&&!leftBracesInSameLine?`
`:""}`,t+=!l||l&&leftBracesInSameLine&&!s?"":g,t+=format(e[o],n+1)}t+=`
${getIndentStr(n)}${s?"]":"}"}`}else{let s=typeof e=="string"?'"':"";t+=`${s}${e}${s}`}return t}return format(eval(`(${json})`))},B=(e,n)=>typeof e=="number"?(typeof n=="undefined"&&(n=e,e=0),e+Math.floor(Math.random()*(n-e))):e instanceof Array?typeof n=="undefined"?e.length===0?null:e.length===1?e[0]:e[Math.floor(Math.random()*e.length)]:(e.sort(()=>Math.random()>.5?1:-1),e.slice(0,n)):Math.random(),de=(e,n)=>{e=e||18;let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz0123456789".split("");n==="number"&&(t="0123456789".split(""));let s="";for(let r=0;r<e;r++)s+=B(t);return s},pe=(e,n)=>e.replace(/([A-Z])/g,(t,s)=>`${n||"_"}${s.toLowerCase()}`),fe=(e,n)=>e.replace(new RegExp(`${n||"_"}(\\w)`,"g"),(t,s)=>s.toUpperCase());return z(ye);})();
