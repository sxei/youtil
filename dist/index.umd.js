var youtil=(()=>{var I=Object.defineProperty,B=Object.defineProperties,K=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var H=(e,n,t)=>n in e?I(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,O=(e,n)=>{for(var t in n||(n={}))j.call(n,t)&&H(e,t,n[t]);if(L)for(var t of L(n))X.call(n,t)&&H(e,t,n[t]);return e},P=(e,n)=>B(e,N(n));var J=(e,n)=>{for(var t in n)I(e,t,{get:n[t],enumerable:!0})},Z=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of V(n))!j.call(e,s)&&s!==t&&I(e,s,{get:()=>n[s],enumerable:!(r=K(n,s))||r.enumerable});return e};var z=e=>Z(I({},"__esModule",{value:!0}),e);var me={};J(me,{Request:()=>ie,copyToClipboard:()=>ee,createEnum:()=>Y,decodeHtml:()=>_,deepCopy:()=>W,delParam:()=>ae,encodeHtml:()=>D,formatDate:()=>ce,formatJson:()=>de,getIdCardLastChar:()=>F,getParam:()=>E,getParamInt:()=>re,getParams:()=>se,getRandom:()=>A,getRandomStr:()=>ge,hideLoading:()=>M,initWindowMessage:()=>Q,keyCodes:()=>te,parseDate:()=>le,request:()=>R,setParam:()=>oe,showLoading:()=>G,sleep:()=>ue,toHump:()=>fe,toUnderline:()=>pe,toUrlParams:()=>T,validateIdCard:()=>ne});function Y(e){let n=[...e];return e.forEach(t=>{n[t.key]=t.value}),n.pick=t=>e.find(r=>r.key===t||r.value===t),n.pickLabel=t=>{var r;return(r=n.pick(t))==null?void 0:r.label},n.pickValue=t=>{var r;return(r=n.pick(t))==null?void 0:r.value},n.pickKey=t=>{var r;return(r=n.pick(t))==null?void 0:r.key},n}var G=(e="\u8BF7\u7A0D\u5019",n=10,t={})=>{t=Object.assign({},{hasMask:!1,maskColor:"#00000070",onCancel:null,cancelInline:!1,id:"com_global_page_loading"},t);let{id:s,hasMask:c,maskColor:l,onCancel:d,cancelInline:w}=t,x=`_${s}_timeout`;window[x]&&clearTimeout(window[x]);let u=document.getElementById(s);u||(u=document.createElement("div"),u.id=s,u.className=s,document.body.append(u));let a=`${s}_style`;if(!document.getElementById(a)){let i=document.createElement("style");i.id=a,i.innerHTML=`
		.${s} {
			position: fixed;
			left: 0;
			top: 0;
			width: 100vw;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			pointer-events: none;
			z-index: 10000;
		}
		.${s}.show-mask {
			pointer-events: unset;
			background: #00000070;
		}
		.${s} .mask-wrapper {
			position: fixed;
		}
		.${s} .loading-wrapper {
			width: 120px;
			height: 120px;
			z-index: 8000;
			background: rgba(0, 0, 0, 0.6);
			border-radius: 8px;
			text-align: center;
			color: white;
			display: flex;
			justify-content: center;
			flex-direction: column;
			align-items: center;
			pointer-events: initial;
			line-height: 1.3;
		}
		.${s} .loading-wrapper img {
			width: 50px;
			height: 50px;
			margin-bottom: 10px;
		}
		.${s} .loading-wrapper a {
			color: #6ab2ff;
		}`,document.head.appendChild(i)}if(u.innerHTML=`
		<div class="loading-wrapper">
			<img src="https://img.alicdn.com/tfs/TB1bnUsQBLoK1RjSZFuXXXn0XXa-32-32.svg" alt="\u52A0\u8F7D\u4E2D">
			<div>
				<span>${e}</span>
				${w?"":"<br />"}
				${d?'<a href="javascript:;" class="cancel">\u53D6\u6D88</a>':""}
			</div>
		</div>`,d){let i=u.querySelector(".cancel");i&&i.addEventListener("click",()=>{M(),d()})}u.addEventListener("click",()=>{M()}),u.style.display="flex",u.style.background=c?l:"transparent",u.className=`${s} ${c?"show-mask":""}`,n>0&&(window[x]=setTimeout(()=>{M()},n*1e3))},M=()=>{let n=document.getElementById("com_global_page_loading");n&&(n.style.display="none")};function Q(e,n){!n&&window!==window.parent&&(n=window.parent),!n&&window.opener&&(n=window.opener);let t=new Map,r=new Map,s=()=>Math.random().toString(36).substring(2),c={},l="_local_function_";function d(a){let i=`${l}${s()}`;return c[i]=a,i}let w=(a,i)=>(a==null?void 0:a.map(g=>{if(typeof g=="object")for(let k in g)g[k]=i(g[k]);return i(g)}))||[];function x(a,...i){if(!n){console.warn("TargetWindow is null.");return}return new Promise((g,k)=>{let f=s();t.set(f,{resolve:g,reject:k}),n.postMessage({scene:e,type:"event",eventName:a,payload:w(i,y=>typeof y=="function"?d(y):y),callbackId:f},"*")})}window.addEventListener("message",async a=>{if(!a.data||a.data.scene!==e)return;n=a.source;let{type:i,eventName:g,payload:k,callbackId:f}=a.data;if(i==="event"){let y=w(k,m=>{if(typeof m=="string"&&m.startsWith(l)){let p=`getFn_${m}`;return(...b)=>x("executeLocalFunction",p,...b)}return m}),h=r.get(g)||[],v=r.get("*")||[];try{let m=await Promise.all(h.map(b=>Promise.resolve(b(...y)))),p=await Promise.all(v.map(b=>Promise.resolve(b(g,...y))));if(f){let b=m[m.length-1]||p[p.length-1];if(!h.length&&!b)return;n.postMessage({scene:e,type:"callback",callbackId:f,payload:b},"*")}}catch(m){console.error(m),f&&n.postMessage({scene:e,type:"callback",callbackId:f,error:m||"unknown error"},"*")}}else if(i==="callback"&&f){let y=t.get(f);y&&(a.data.error?y.reject(a.data.error):y.resolve(a.data.payload),t.delete(f))}});function u(a,i){r.has(a)||r.set(a,[]),r.get(a).push(i)}return u("executeLocalFunction",(a,...i)=>{if(a=(a==null?void 0:a.replace("getFn_",""))||"",!c[a])throw new Error(`\u672A\u627E\u5230\u672C\u5730\u7F13\u5B58\u65B9\u6CD5\uFF1A${a}`);return c[a](...i)}),x("auto-connect"),{postMessage:x,onMessage:u}}var W=e=>!e||typeof e!="object"?e:JSON.parse(JSON.stringify(e)),D=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerText=e,n.innerHTML}else if(typeof e=="object"&&e)for(let n in e)e[n]=D(e[n]);return e},_=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerHTML=e,n.innerText}else if(typeof e=="object"&&e)for(let n in e)e[n]=_(e[n]);return e},ee=(e,n,t)=>{if(!e)throw new Error("text can not be empty.");return n=n||(r=>console.error(`\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25\uFF1A${r||""}`)),navigator.clipboard&&!t?navigator.clipboard.writeText(e).catch(r=>{throw n(r.message),r}):new Promise((r,s)=>{let c=document.createElement("input");c.value=e,c.style.cssText="position:fixed;left:0;top:0;opacity:0;",document.body.appendChild(c),c.select();try{if(document.execCommand("copy"))r();else{let l="Failed to execute 'document.execCommand'.";n(l),s(new Error(l))}}catch(l){n(l.message),s(l)}finally{document.body.removeChild(c)}})},F=e=>{if(!e||e.length<17)throw new Error("\u4F20\u5165\u7684\u8EAB\u4EFD\u8BC1\u53F7\u957F\u5EA6\u5FC5\u987B>=17");let n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],t=["1","0","X","9","8","7","6","5","4","3","2"],r=0;for(let s=0;s<17;s++)r+=parseInt(e.charAt(s),10)*n[s];return t[r%11]},ne=e=>!e||e.length!==18?(console.error("\u8EAB\u4EFD\u8BC1\u53F7\u4E0D\u662F18\u4F4D\uFF01"),!1):`${F(e)}`===e.charAt(17),te=(()=>{let e={backspace:8,tab:9,clear:12,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46};for(let n=48;n<=57;n++)e[String.fromCharCode(n)]=n;for(let n=65;n<=90;n++)e[String.fromCharCode(n).toLowerCase()]=n;for(let n=96;n<=105;n++)e[`num${n-96}`]=n;for(let n=112;n<=123;n++)e[`f${n-111}`]=n;return e})();var E=(e,n=location.search)=>(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g").exec(n)||[])[2],re=(e,n=location.search)=>parseInt(E(e,n)||"0",10),se=(e=location.search)=>{let n=((e||"").split("?").pop()||"").split("#")[0]||"",t={};return n.split("&").map(r=>r.split("=")).forEach(([r,s])=>{t[r]=s||""}),t},oe=(e,n,t)=>{if(t=t||`${location.pathname}${location.search}`,E(e,t)!==void 0)return t.replace(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g"),`$1${e}=${n}`);let[r,s]=t.split("#");return`${r}${r.indexOf("?")<0?"?":"&"}${e}=${n}${s?"#":""}${s||""}`},ae=(e,n)=>(n=n||`${location.pathname}${location.search}`,n.replace(new RegExp(`(^|\\?|&)${e}=.*?(&|#|$)`,"g"),(t,r,s)=>s==="&"?r:s)),T=e=>Object.keys(e||{}).filter(n=>e[n]!==void 0).map(n=>{let t=typeof e[n]=="object"?JSON.stringify(e[n]):e[n];return`${encodeURIComponent(n)}=${encodeURIComponent(t)}`}).join("&");var C=(e,n)=>{let t=Object.assign({},(e==null?void 0:e.headers)||{},(n==null?void 0:n.headers)||{}),r=Object.assign({},(e==null?void 0:e.fetchOptions)||{},(n==null?void 0:n.fetchOptions)||{});return Object.assign({},e||{},n||{},{headers:t,fetchOptions:r})},S=class extends Error{constructor(n,t){super(n),Object.assign(this,t||{})}},R=async(e,n)=>{var b,q;n=C({errorMessage:"\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",errorHandler:o=>{var $;throw!(n!=null&&n.silent)&&o&&(($=n==null?void 0:n.toastHandler)==null||$.call(n,o)),new Error(o)},baseUrl:"",headers:{},fetchOptions:{credentials:"include"},checkSuccess:o=>(o==null?void 0:o.code)==0||(o==null?void 0:o.code)==200,toastHandler:o=>console.error(`[\u60A8\u8FD8\u6CA1\u6709\u914D\u7F6EtoastHandler\uFF0C\u8BF7\u6839\u636E\u60A8\u7684UI\u7EC4\u4EF6\u5E93\u914D\u7F6E\u5408\u9002\u7684\u63D0\u793A\u65B9\u6CD5] ${o||""}`),onFetchResponse:o=>{if(o.status===200)return o.json();throw new S(o.statusText,{response:P(O({},o),{code:o.status,message:o.statusText,isHttpResponse:!0})})}},n);let{params:r,data:s,formData:c,json:l,method:d,headers:w,baseUrl:x,fetchOptions:u,checkSuccess:a,afterRequest:i,errorHandler:g,errorMessage:k,responseConverter:f,onFetchResponse:y,setLoading:h,overrideMessage:v}=n||{},m=(n==null?void 0:n.defaultErrorMessage)||k;if(u.headers=O(O({},w||{}),u.headers||{}),r&&(u.method=d||"GET",e=`${e}${e.indexOf("?")>=0?"&":"?"}${T(r)}`),s)Object.assign(u,{method:d||"POST",body:T(s),headers:O({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},u.headers||{})});else if(c){let o=c;if(!(c instanceof FormData)){o=new FormData;for(let $ in c)o.append($,c[$])}Object.assign(u,{method:d||"POST",body:o})}else l&&Object.assign(u,{method:d||"POST",body:JSON.stringify(l),headers:O({"Content-Type":"application/json;charset=utf-8"},u.headers||{})});let p=null;h==null||h(!0);try{let o=`${/^(http|\/\/)/g.test(e)?"":x||""}${e}`;o.indexOf("//")===0&&location.protocol==="blob:"&&(o=`${(b=location.pathname.split(":"))==null?void 0:b[0]}:${o}`),p=await fetch(o,u).then(y)}catch(o){console.error(o),h==null||h(!1),i==null||i(!1,o.response);let $=typeof v=="function"?v(o.response):v;g==null||g($!=null?$:((q=o.response)==null?void 0:q.message)||m,o.response,n);return}if(h==null||h(!1),p=f?f(p):p,a!=null&&a(p))return i==null||i(!0,p),p.data;{i==null||i(!1,p);let o=typeof v=="function"?v(p):v;g==null||g(o!=null?o:p.message||m,p,n);return}},U=function(e){let n=C(this.overrideDefaultOptions,e),t=(r,s)=>R(r,C(n,s));return t.overrideDefaultOptions=n,t.create=U.bind(t),t};R.create=U.bind(R);var ie=function(e,n){let t=n;return n||(t=e,e=R),(r,s)=>e(r,O(O({},t||{}),s||{}))};var ce=(e,n)=>{if(!e)return"";if(typeof e=="number")e=new Date(e);else if(typeof e=="string")if(/^\d{12,13}$/g.test(e))e=new Date(parseInt(e,10));else if(/^.{10}T.{8,12}Z?$/g.test(e))e=new Date(e);else return e;if(!(e instanceof Date))throw new Error("formatDate error: not date.");if(isNaN(e==null?void 0:e.getFullYear()))throw new Error("formatDate error: invalid date.");n=n||"yyyy-MM-dd HH:mm:ss";let t={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},r=["\u5929","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"];for(let s in t)n=n.replace(new RegExp(`${s}+`,"g"),c=>{let l=`${t[s]}`;if(s==="w")return`${c.length>2?"\u661F\u671F":"\u5468"}${r[l]}`;for(let d=0,w=l.length;d<c.length-w;d++)l=`0${l}`;return c.length===1?l:l.substring(l.length-c.length)});return n},le=(e,n)=>{n=n||"yyyy-MM-dd";let t={y:0,M:1,d:0,H:0,h:0,m:0,s:0,S:0};n.replace(/([^yMdHmsS]*?)(([yMdHmsS])\3*)([^yMdHmsS]*?)/g,(s,c,l,d,w)=>(e=e.replace(new RegExp(`${c}(\\d{${l.length}})${w}`),(x,u)=>(t[d]=parseInt(u,10),"")),"")),t.M--;let r=new Date(t.y,t.M,t.d,t.H,t.m,t.s);return t.S!==0&&r.setMilliseconds(t.S),r},ue=e=>new Promise(n=>setTimeout(n,e||0));var de=(json,indent,leftBracesInSameLine)=>{function getIndentStr(e){let n="";for(let t=0;t<e;t++)n+=indent||"	";return n}function format(e,n){n=n===void 0?0:n;let t="";if(typeof e=="object"&&e!=null){let r=e instanceof Array,s=0;t+=`${r?"[":"{"}
`;for(let c in e){t+=s++>0?`,
`:"";let l=typeof e[c]=="object"&&e[c]!=null,d=getIndentStr(n+1);t+=r&&l?"":d,t+=r?"":`"${c}": ${l&&!leftBracesInSameLine?`
`:""}`,t+=!l||l&&leftBracesInSameLine&&!r?"":d,t+=format(e[c],n+1)}t+=`
${getIndentStr(n)}${r?"]":"}"}`}else{let r=typeof e=="string"?'"':"";t+=`${r}${e}${r}`}return t}return format(eval(`(${json})`))},A=(e,n)=>typeof e=="number"?(typeof n=="undefined"&&(n=e,e=0),e+Math.floor(Math.random()*(n-e))):e instanceof Array?typeof n=="undefined"?e.length===0?null:e.length===1?e[0]:e[Math.floor(Math.random()*e.length)]:(e.sort(()=>Math.random()>.5?1:-1),e.slice(0,n)):Math.random(),ge=(e,n)=>{e=e||18;let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz0123456789".split("");n==="number"&&(t="0123456789".split(""));let r="";for(let s=0;s<e;s++)r+=A(t);return r},pe=(e,n)=>e.replace(/([A-Z])/g,(t,r)=>`${n||"_"}${r.toLowerCase()}`),fe=(e,n)=>e.replace(new RegExp(`${n||"_"}(\\w)`,"g"),(t,r)=>r.toUpperCase());return z(me);})();
