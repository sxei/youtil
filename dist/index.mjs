var N=Object.defineProperty,A=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var F=(e,n,t)=>n in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,w=(e,n)=>{for(var t in n||(n={}))V.call(n,t)&&F(e,t,n[t]);if(j)for(var t of j(n))J.call(n,t)&&F(e,t,n[t]);return e},I=(e,n)=>A(e,K(n));function oe(e){let n=[...e],t={},o={};return e.forEach(r=>{t[r.value]=r,o[r.label]=r,r.key&&(t[r.key]=r,typeof r.key=="number"?console.error("createEnum\u4E2D\u7684key\u4E0D\u80FD\u4E3A\u7EAF\u6570\u5B57"):n[r.key]=r.value)}),n.pick=r=>t[r],n.pickLabel=r=>{var s;return(s=n.pick(r))==null?void 0:s.label},n.pickValue=r=>{var s;return(s=n.pick(r))==null?void 0:s.value},n.pickKey=r=>{var s;return(s=n.pick(r))==null?void 0:s.key},n.pickByLabel=r=>o[r],n}var ie=(e="\u8BF7\u7A0D\u5019",n=10,t={})=>{t=Object.assign({},{hasMask:!1,maskColor:"#00000070",onCancel:null,cancelInline:!1,id:"com_global_page_loading"},t);let{id:r,hasMask:s,maskColor:a,onCancel:c,cancelInline:p}=t,h=`_${r}_timeout`;window[h]&&clearTimeout(window[h]);let g=document.getElementById(r);g||(g=document.createElement("div"),g.id=r,g.className=r,document.body.append(g));let l=`${r}_style`;if(!document.getElementById(l)){let u=document.createElement("style");u.id=l,u.innerHTML=`
		.${r} {
			position: fixed;
			left: 0;
			top: 0;
			width: 100vw;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			pointer-events: none;
			z-index: 10000;
		}
		.${r}.show-mask {
			pointer-events: unset;
			background: #00000070;
		}
		.${r} .mask-wrapper {
			position: fixed;
		}
		.${r} .loading-wrapper {
			width: 120px;
			height: 120px;
			z-index: 8000;
			background: rgba(0, 0, 0, 0.6);
			border-radius: 8px;
			text-align: center;
			color: white;
			display: flex;
			justify-content: center;
			flex-direction: column;
			align-items: center;
			pointer-events: initial;
			line-height: 1.3;
		}
		.${r} .loading-wrapper img {
			width: 50px;
			height: 50px;
			margin-bottom: 10px;
		}
		.${r} .loading-wrapper a {
			color: #6ab2ff;
		}`,document.head.appendChild(u)}if(g.innerHTML=`
		<div class="loading-wrapper">
			<img src="https://img.alicdn.com/tfs/TB1bnUsQBLoK1RjSZFuXXXn0XXa-32-32.svg" alt="\u52A0\u8F7D\u4E2D">
			<div>
				<span>${e}</span>
				${p?"":"<br />"}
				${c?'<a href="javascript:;" class="cancel">\u53D6\u6D88</a>':""}
			</div>
		</div>`,c){let u=g.querySelector(".cancel");u&&u.addEventListener("click",()=>{T(),c()})}g.addEventListener("click",()=>{T()}),g.style.display="flex",g.style.background=s?a:"transparent",g.className=`${r} ${s?"show-mask":""}`,n>0&&(window[h]=setTimeout(()=>{T()},n*1e3))},T=()=>{let n=document.getElementById("com_global_page_loading");n&&(n.style.display="none")};function ce(e,n){!n&&window!==window.parent&&(n=window.parent),!n&&window.opener&&(n=window.opener);let t=new Map,o=new Map,r=()=>Math.random().toString(36).substring(2),s={},a="_local_function_";function c(l){let u=`${a}${r()}`;return s[u]=l,u}let p=(l,u)=>(l==null?void 0:l.map(f=>{if(typeof f=="object")for(let $ in f)f[$]=u(f[$]);return u(f)}))||[];function h(l,...u){if(!n){console.warn("TargetWindow is null.");return}return new Promise((f,$)=>{let m=r();t.set(m,{resolve:f,reject:$}),n.postMessage({scene:e,type:"event",eventName:l,payload:p(u,b=>typeof b=="function"?c(b):b),callbackId:m},"*")})}window.addEventListener("message",async l=>{if(!l.data||l.data.scene!==e)return;n=l.source;let{type:u,eventName:f,payload:$,callbackId:m}=l.data;if(u==="event"){let b=p($,y=>{if(typeof y=="string"&&y.startsWith(a)){let R=`getFn_${y}`;return(...d)=>h("executeLocalFunction",R,...d)}return y}),x=o.get(f)||[],M=o.get("*")||[];try{let y=await Promise.all(x.map(d=>Promise.resolve(d(...b)))),R=await Promise.all(M.map(d=>Promise.resolve(d(f,...b))));if(m){let d=y[y.length-1]||R[R.length-1];if(!x.length&&!d)return;n.postMessage({scene:e,type:"callback",callbackId:m,payload:d},"*")}}catch(y){console.error(y),m&&n.postMessage({scene:e,type:"callback",callbackId:m,error:y||"unknown error"},"*")}}else if(u==="callback"&&m){let b=t.get(m);b&&(l.data.error?b.reject(l.data.error):b.resolve(l.data.payload),t.delete(m))}});function g(l,u){o.has(l)||o.set(l,[]),o.get(l).push(u)}return g("executeLocalFunction",(l,...u)=>{if(l=(l==null?void 0:l.replace("getFn_",""))||"",!s[l])throw new Error(`\u672A\u627E\u5230\u672C\u5730\u7F13\u5B58\u65B9\u6CD5\uFF1A${l}`);return s[l](...u)}),h("auto-connect"),{postMessage:h,onMessage:g}}var ue=e=>!e||typeof e!="object"?e:JSON.parse(JSON.stringify(e)),X=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerText=e,n.innerHTML}else if(typeof e=="object"&&e)for(let n in e)e[n]=X(e[n]);return e},Y=e=>{if(typeof e=="string"){let n=document.createElement("div");return n.innerHTML=e,n.innerText}else if(typeof e=="object"&&e)for(let n in e)e[n]=Y(e[n]);return e},ge=(e,n,t)=>{if(!e)throw new Error("text can not be empty.");return n=n||(o=>console.error(`\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25\uFF1A${o||""}`)),navigator.clipboard&&!t?navigator.clipboard.writeText(e).catch(o=>{throw n(o.message),o}):new Promise((o,r)=>{let s=document.createElement("input");s.value=e,s.style.cssText="position:fixed;left:0;top:0;opacity:0;",document.body.appendChild(s),s.select();try{if(document.execCommand("copy"))o();else{let a="Failed to execute 'document.execCommand'.";n(a),r(new Error(a))}}catch(a){n(a.message),r(a)}finally{document.body.removeChild(s)}})},Z=e=>{if(!e||e.length<17)throw new Error("\u4F20\u5165\u7684\u8EAB\u4EFD\u8BC1\u53F7\u957F\u5EA6\u5FC5\u987B>=17");let n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],t=["1","0","X","9","8","7","6","5","4","3","2"],o=0;for(let r=0;r<17;r++)o+=parseInt(e.charAt(r),10)*n[r];return t[o%11]},pe=e=>!e||e.length!==18?(console.error("\u8EAB\u4EFD\u8BC1\u53F7\u4E0D\u662F18\u4F4D\uFF01"),!1):`${Z(e)}`===e.charAt(17),de=(()=>{let e={backspace:8,tab:9,clear:12,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46};for(let n=48;n<=57;n++)e[String.fromCharCode(n)]=n;for(let n=65;n<=90;n++)e[String.fromCharCode(n).toLowerCase()]=n;for(let n=96;n<=105;n++)e[`num${n-96}`]=n;for(let n=112;n<=123;n++)e[`f${n-111}`]=n;return e})();var H=(e,n=location.search)=>(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g").exec(n)||[])[2],me=(e,n=location.search)=>parseInt(H(e,n)||"0",10),P=(e=location.search)=>{let n=((e||"").split("?").pop()||"").split("#")[0]||"",t={};return n.split("&").map(o=>o.split("=")).forEach(([o,r])=>{t[o]=r||""}),t},ye=(e,n,t)=>{if(t=t||`${location.pathname}${location.search}`,H(e,t)!==void 0)return t.replace(new RegExp(`(^|\\?|&)${e}=(.*?)(?=&|#|$)`,"g"),`$1${e}=${n}`);let[o,r]=t.split("#");return`${o}${o.indexOf("?")<0?"?":"&"}${e}=${n}${r?"#":""}${r||""}`},he=(e,n)=>(n=n||`${location.pathname}${location.search}`,n.replace(new RegExp(`(^|\\?|&)${e}=.*?(&|#|$)`,"g"),(t,o,r)=>r==="&"?o:r)),E=e=>Object.keys(e||{}).filter(n=>e[n]!==void 0).map(n=>{let t=typeof e[n]=="object"?JSON.stringify(e[n]):e[n];return`${encodeURIComponent(n)}=${encodeURIComponent(t)}`}).join("&");var O=[],v={timeout:"200-400",debug:!0,overrideMode:!0},z=(e,n)=>{if(!n)throw new Error("\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E0D\u80FD\u4E3A\u7A7A\uFF01");let t=n;t instanceof Function||(t=()=>n),O.push({url:e,cb:t})},G=()=>{O=[]},Q=e=>{Object.assign(v,e||{})},W=e=>{var s,a;let n=e.method.toLowerCase(),{url:t,body:o}=e,r={};if(n==="get")(t.split("?")[1]||"").split("&").map(c=>c.split("=")).forEach(([c,p])=>{r[c]=decodeURIComponent(p)});else if(n==="post")try{let c=((s=e.headers)==null?void 0:s["Content-Type"])||((a=e.headers)==null?void 0:a["content-type"]);(c==null?void 0:c.indexOf("json"))>0?r=JSON.parse(o||"{}"):r=P(`?${o||""}`)}catch(c){console.error(c)}return r},_=async(e,n)=>{var r;if(!(O!=null&&O.length))return;let t=I(w({url:e},n),{params:{}});t.params=W(t);let o=v.overrideMode?O.reverse():O;for(let s of o)if((e==null?void 0:e.indexOf(s.url))>=0){let a=v.timeout||0;if(typeof a=="string"){let p=a.split("-").map(h=>parseInt(h,10));a=p[0]+Math.round(Math.random()*(p[1]-p[0]))}await U(a);let c=await((r=s.cb)==null?void 0:r.call(s,t));if(v.debug&&(console.log(`\u547D\u4E2Dmock\u89C4\u5219\uFF1A${s.url}`),console.log("mock\u5165\u53C2\uFF1A",t),console.log("mock\u51FA\u53C2\uFF1A",c)),c)return c}};var S=(e,n)=>{let t=Object.assign({},(e==null?void 0:e.headers)||{},(n==null?void 0:n.headers)||{}),o=Object.assign({},(e==null?void 0:e.fetchOptions)||{},(n==null?void 0:n.fetchOptions)||{});return Object.assign({},e||{},n||{},{headers:t,fetchOptions:o})},q=class extends Error{constructor(n,t){super(n),Object.assign(this,t||{})}},C=async(e,n)=>{var D,L;n=S({errorMessage:"\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",errorHandler:i=>{var k;throw!(n!=null&&n.silent)&&i&&((k=n==null?void 0:n.toastHandler)==null||k.call(n,i)),new Error(i)},baseUrl:"",headers:{},fetchOptions:{credentials:"include"},checkSuccess:i=>(i==null?void 0:i.code)==0||(i==null?void 0:i.code)==200,toastHandler:i=>console.error(`[\u60A8\u8FD8\u6CA1\u6709\u914D\u7F6EtoastHandler\uFF0C\u8BF7\u6839\u636E\u60A8\u7684UI\u7EC4\u4EF6\u5E93\u914D\u7F6E\u5408\u9002\u7684\u63D0\u793A\u65B9\u6CD5] ${i||""}`),onFetchResponse:i=>{if(i.status===200)return i.json();throw new q(i.statusText,{response:I(w({},i),{code:i.status,message:i.statusText,isHttpResponse:!0})})}},n);let{params:o,data:r,formData:s,json:a,method:c,headers:p,baseUrl:h,fetchOptions:g,checkSuccess:l,afterRequest:u,errorHandler:f,errorMessage:$,responseConverter:m,onFetchResponse:b,setLoading:x,overrideMessage:M,signal:y}=n||{},R=(n==null?void 0:n.defaultErrorMessage)||$;if(g.headers=w(w({},p||{}),g.headers||{}),!g.signal&&y&&(g.signal=y),o&&(g.method=c||"GET",e=`${e}${e.indexOf("?")>=0?"&":"?"}${E(o)}`),r)Object.assign(g,{method:c||"POST",body:E(r),headers:w({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},g.headers||{})});else if(s){let i=s;if(!(s instanceof FormData)){i=new FormData;for(let k in s)i.append(k,s[k])}Object.assign(g,{method:c||"POST",body:i})}else a&&Object.assign(g,{method:c||"POST",body:JSON.stringify(a),headers:w({"Content-Type":"application/json;charset=utf-8"},g.headers||{})});let d=null;x==null||x(!0);try{let i=`${/^(http|\/\/)/g.test(e)?"":h||""}${e}`;i.indexOf("//")===0&&location.protocol==="blob:"&&(i=`${(D=location.pathname.split(":"))==null?void 0:D[0]}:${i}`),d=await _(i,g),d||(d=await fetch(i,g).then(b))}catch(i){console.error(i),x==null||x(!1),u==null||u(!1,i.response);let k=typeof M=="function"?M(i.response):M;f==null||f(k!=null?k:((L=i.response)==null?void 0:L.message)||R,i.response,n);return}if(x==null||x(!1),d=m?m(d):d,l!=null&&l(d))return u==null||u(!0,d),d.data;{u==null||u(!1,d);let i=typeof M=="function"?M(d):M;f==null||f(i!=null?i:d.message||R,d,n);return}},B=function(e){let n=S(this.overrideDefaultOptions,e),t=(o,r)=>C(o,S(n,r));return t.overrideDefaultOptions=n,t.create=B.bind(t),t};C.create=B.bind(C);var Re=function(e,n){let t=n;return n||(t=e,e=C),(o,r)=>e(o,w(w({},t||{}),r||{}))};var Ce=(e,n)=>{if(!e)return"";if(typeof e=="number")e=new Date(e);else if(typeof e=="string")if(/^\d{12,13}$/g.test(e))e=new Date(parseInt(e,10));else if(/^.{10}T.{8,12}Z?$/g.test(e)||/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/g.test(e))e=new Date(e);else return e;if(!(e instanceof Date))throw new Error("formatDate error: not date.");if(isNaN(e==null?void 0:e.getFullYear()))throw new Error("formatDate error: invalid date.");n=n||"yyyy-MM-dd HH:mm:ss";let t={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},o=["\u5929","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"];for(let r in t)n=n.replace(new RegExp(`${r}+`,"g"),s=>{let a=`${t[r]}`;if(r==="w")return`${s.length>2?"\u661F\u671F":"\u5468"}${o[a]}`;for(let c=0,p=a.length;c<s.length-p;c++)a=`0${a}`;return s.length===1?a:a.substring(a.length-s.length)});return n},Te=(e,n)=>{n=n||"yyyy-MM-dd";let t={y:0,M:1,d:0,H:0,h:0,m:0,s:0,S:0};n.replace(/([^yMdHmsS]*?)(([yMdHmsS])\3*)([^yMdHmsS]*?)/g,(r,s,a,c,p)=>(e=e.replace(new RegExp(`${s}(\\d{${a.length}})${p}`),(h,g)=>(t[c]=parseInt(g,10),"")),"")),t.M--;let o=new Date(t.y,t.M,t.d,t.H,t.m,t.s);return t.S!==0&&o.setMilliseconds(t.S),o},U=e=>new Promise(n=>setTimeout(n,e||0)),Ee=(e,n="d:hh:mm:ss")=>{let t={d:Math.floor(e/86400),h:Math.floor(e%86400/3600),m:Math.floor(e%3600/60),s:e%60};t.h===0?n=n.replace(/^[^m]+/g,""):t.d===0&&(n=n.replace(/^[^h]+/g,""));for(let o in t)n=n.replace(new RegExp(`${o}+`,"g"),r=>{let s=`${t[o]}`;return r.length>1?s.padStart(r.length,"0"):s});return n},ee=e=>(e===void 0&&(e=new Date),e instanceof Date&&(e=e.getFullYear()),e%4===0&&e%100!==0||e%400===0),Se=(e,n)=>{let t=n-1;e=e||new Date,e instanceof Date&&(n=e.getMonth(),e=e.getFullYear());let o=[31,28,31,30,31,30,31,31,30,31,30,31];return t===1&&ee(e)?o[t]+1:o[t]};var De=(json,indent,leftBracesInSameLine)=>{function getIndentStr(e){let n="";for(let t=0;t<e;t++)n+=indent||"	";return n}function format(e,n){n=n===void 0?0:n;let t="";if(typeof e=="object"&&e!=null){let o=e instanceof Array,r=0;t+=`${o?"[":"{"}
`;for(let s in e){t+=r++>0?`,
`:"";let a=typeof e[s]=="object"&&e[s]!=null,c=getIndentStr(n+1);t+=o&&a?"":c,t+=o?"":`"${s}": ${a&&!leftBracesInSameLine?`
`:""}`,t+=!a||a&&leftBracesInSameLine&&!o?"":c,t+=format(e[s],n+1)}t+=`
${getIndentStr(n)}${o?"]":"}"}`}else{let o=typeof e=="string"?'"':"";t+=`${o}${e}${o}`}return t}return format(eval(`(${json})`))},ne=(e,n)=>typeof e=="number"?(typeof n=="undefined"&&(n=e,e=0),e+Math.floor(Math.random()*(n-e))):e instanceof Array?typeof n=="undefined"?e.length===0?null:e.length===1?e[0]:e[Math.floor(Math.random()*e.length)]:(e.sort(()=>Math.random()>.5?1:-1),e.slice(0,n)):Math.random(),Le=(e,n)=>{e=e||18;let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz0123456789".split("");n==="number"&&(t="0123456789".split(""));let o="";for(let r=0;r<e;r++)o+=ne(t);return o},je=(e,n)=>e.replace(/([A-Z])/g,(t,o)=>`${n||"_"}${o.toLowerCase()}`),Fe=(e,n)=>e.replace(new RegExp(`${n||"_"}(\\w)`,"g"),(t,o)=>o.toUpperCase());var Pe=e=>{let n=document.createElement("a");n.href=e,n.target="_blank",n.click()};var Ue=e=>{let n=new RegExp(`(^|;| )${encodeURIComponent(e)}=([^;]*)(;|$)`,"g").exec(document.cookie);return decodeURIComponent((n==null?void 0:n[2])||"")},te=(e,n,t)=>{let{days:o,path:r,domain:s,secure:a,sameSite:c}=Object.assign({days:30,path:"/"},t||{}),p=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`;o&&(p+=`; expires=${new Date(Date.now()+o*24*3600*1e3).toUTCString()}`),r&&(p+=`; path=${r}`),s&&(p+=`; domain=${s}`),a&&(p+="; secure"),c&&(p+=`; sameSite=${c}`),document.cookie=p},Be=(e,n,t)=>{te(e,null,{days:-1,path:n,domain:t})};export{Re as Request,Q as configMock,ge as copyToClipboard,oe as createEnum,Y as decodeHtml,ue as deepCopy,Be as delCookie,he as delParam,X as encodeHtml,Ce as formatDate,Ee as formatDuration,De as formatJson,Ue as getCookie,Z as getIdCardLastChar,Se as getMonthDays,H as getParam,me as getParamInt,P as getParams,ne as getRandom,Le as getRandomStr,T as hideLoading,ce as initWindowMessage,ee as isLeapYear,de as keyCodes,z as mockRequest,Pe as openNewTab,Te as parseDate,C as request,G as resetMock,te as setCookie,ye as setParam,ie as showLoading,U as sleep,Fe as toHump,je as toUnderline,E as toUrlParams,pe as validateIdCard};
