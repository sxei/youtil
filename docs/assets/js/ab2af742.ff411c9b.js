"use strict";(self.webpackChunkyoutil=self.webpackChunkyoutil||[]).push([[214],{2655:(n,e,t)=>{function r(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){var r,o;r=n,o=t[e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o}))}return n}t.d(e,{Kd:()=>d,Yq:()=>f,RZ:()=>i,Em:()=>l,Cs:()=>a}),"function"==typeof SuppressedError&&SuppressedError;var a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u8bf7\u7a0d\u5019",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(t=Object.assign({},{hasMask:!1,maskColor:"#00000070",onCancel:null,cancelInline:!1,id:"com_global_page_loading"},t)).id,o=t.hasMask,a=t.maskColor,c=t.onCancel,s=t.cancelInline,l="_".concat(r,"_timeout");window[l]&&clearTimeout(window[l]);var u=document.getElementById(r);u||((u=document.createElement("div")).id=r,u.className=r,document.body.append(u));var d="".concat(r,"_style");if(!document.getElementById(d)){var f=document.createElement("style");f.id=d,f.innerHTML="\n        .".concat(r," {\n            position: fixed;\n            left: 0;\n            top: 0;\n            width: 100vw;\n            height: 100vh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n            z-index: 10000;\n        }\n        .").concat(r,".show-mask {\n            pointer-events: unset;\n            background: #00000070;\n        }\n        .").concat(r," .mask-wrapper {\n            position: fixed;\n        }\n        .").concat(r," .loading-wrapper {\n            width: 120px;\n            height: 120px;\n            z-index: 8000;\n            background: rgba(0, 0, 0, 0.6);\n            border-radius: 8px;\n            text-align: center;\n            color: white;\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n            align-items: center;\n            pointer-events: initial;\n            line-height: 1.3;\n        }\n        .").concat(r," .loading-wrapper img {\n            width: 50px;\n            height: 50px;\n            margin-bottom: 10px;\n        }\n        .").concat(r," .loading-wrapper a {\n            color: #6ab2ff;\n        }"),document.head.appendChild(f)}if(u.innerHTML='\n        <div class="loading-wrapper">\n            <img src="https://img.alicdn.com/tfs/TB1bnUsQBLoK1RjSZFuXXXn0XXa-32-32.svg" alt="\u52a0\u8f7d\u4e2d">\n            <div>\n                <span>'.concat(n,"</span>\n                ").concat(s?"":"<br />","\n                ").concat(c?'<a href="javascript:;" class="cancel">\u53d6\u6d88</a>':"","\n            </div>\n        </div>"),c){var p=u.querySelector(".cancel");p&&p.addEventListener("click",(function(){i(),c()}))}u.addEventListener("click",(function(){i()})),u.style.display="flex",u.style.background=o?a:"transparent",u.className="".concat(r," ").concat(o?"show-mask":""),e>0&&(window[l]=setTimeout((function(){i()}),1e3*e))},i=function(){var n=document.getElementById("com_global_page_loading");n&&(n.style.display="none")};var c=function(n){return Object.keys(n||{}).filter((function(e){return void 0!==n[e]})).map((function(e){var t="object"==typeof n[e]?JSON.stringify(n[e]):n[e];return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join("&")},s=function(n,e){var t=Object.assign({},(null==n?void 0:n.headers)||{},(null==e?void 0:e.headers)||{}),r=Object.assign({},(null==n?void 0:n.fetchOptions)||{},(null==e?void 0:e.fetchOptions)||{});return Object.assign({},n||{},e||{},{headers:t,fetchOptions:r})},l=function(){var n=function(n){return function(){var e=this,t=arguments;return new Promise((function(o,a){var i=n.apply(e,t);function c(n){r(i,o,a,c,s,"next",n)}function s(n){r(i,o,a,c,s,"throw",n)}c(void 0)}))}}((function(n,e){var t,r,a,i,l,u,d,f,p,h,g,v,m,b,y,w,k,j,C,O,x;return function(n,e){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}(this,(function(_){switch(_.label){case 0:if(r=(t=(e=s({errorMessage:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",errorHandler:function(n){var t;(null==e?void 0:e.silent)||(null==e||null===(t=e.toastHandler)||void 0===t||t.call(e,n));throw Error(n)},baseUrl:"",headers:{},fetchOptions:{credentials:"include"},checkSuccess:function(n){return 0==(null==n?void 0:n.code)||200==(null==n?void 0:n.code)},toastHandler:function(n){return console.error("[\u60a8\u8fd8\u6ca1\u6709\u914d\u7f6etoastHandler\uff0c\u8bf7\u6839\u636e\u60a8\u7684UI\u7ec4\u4ef6\u5e93\u914d\u7f6e\u5408\u9002\u7684\u63d0\u793a\u65b9\u6cd5] ".concat(n||""))},onFetchResponse:function(n){if(200===n.status)return n.json();var e={code:n.status,status:n.status,message:n.statusText,headers:n.headers,_response:n},t=Error(e.message);throw t.response=e,t}},e))||{}).params,a=t.data,i=t.formData,l=t.json,u=t.method,d=t.headers,f=t.baseUrl,p=t.fetchOptions,h=t.checkSuccess,g=t.afterRequest,v=t.errorHandler,m=t.errorMessage,b=t.responseConverter,y=t.onFetchResponse,p.headers=o({},d||{},p.headers||{}),r&&(p.method=u||"GET",n="".concat(n).concat(n.indexOf("?")>=0?"&":"?").concat(c(r))),a)Object.assign(p,{method:u||"POST",body:c(a),headers:o({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},p.headers||{})});else if(i){if(w=i,!(i instanceof FormData))for(var D in w=new FormData,i)w.append(D,i[D]);Object.assign(p,{method:u||"POST",body:w})}else l&&Object.assign(p,{method:u||"POST",body:JSON.stringify(l),headers:o({"Content-Type":"application/json;charset=utf-8"},p.headers||{})});k=null,_.label=1;case 1:return _.trys.push([1,3,,4]),0===(j="".concat(/^(http|\/\/)/g.test(n)?"":f||"").concat(n)).indexOf("//")&&"blob:"===location.protocol&&(j="".concat(null===(C=location.pathname.split(":"))||void 0===C?void 0:C[0],":").concat(j)),[4,fetch(j,p).then(y)];case 2:return k=_.sent(),[3,4];case 3:return console.error(O=_.sent()),null==g||g(!1,{message:null==O?void 0:O.message}),null==v||v((null===(x=O.response)||void 0===x?void 0:x.message)||m||"",O.response),[2,void 0];case 4:return k=b?b(k):k,(null==h?void 0:h(k))?(null==g||g(!0,k),[2,k.data]):(null==g||g(!1,k),null==v||v(k.message||k.msg||m||"",k),[2,void 0])}}))}));return function(e,t){return n.apply(this,arguments)}}(),u=function(n){var e=s(this.overrideDefaultOptions,n),t=function(n,t){return l(n,s(e,t))};return t.overrideDefaultOptions=e,t.create=u.bind(t),t};l.create=u.bind(l);var d=function(n,e){var t=e;return e||(t=n,n=l),function(e,r){return n(e,o({},t||{},r||{}))}},f=function(n,e){var t=function(n){e=e.replace(RegExp("".concat(n,"+"),"g"),(function(e){var t="".concat(r[n]);if("w"===n)return"".concat(e.length>2?"\u661f\u671f":"\u5468").concat(o[t]);for(var a=0,i=t.length;a<e.length-i;a++)t="0".concat(t);return 1===e.length?t:t.substring(t.length-e.length)}))};if(!n)return"";if("number"==typeof n)n=new Date(n);else if("string"==typeof n)if(/^\d{12,13}$/g.test(n))n=new Date(parseInt(n,10));else{if(!/^.{10}T.{8,12}Z?$/g.test(n))return n;n=new Date(n)}if(!(n instanceof Date))throw Error("formatDate error: not date.");if(isNaN(null==n?void 0:n.getFullYear()))throw Error("formatDate error: invalid date.");e=e||"yyyy-MM-dd HH:mm:ss";var r={y:n.getFullYear(),M:n.getMonth()+1,d:n.getDate(),q:Math.floor((n.getMonth()+3)/3),w:n.getDay(),H:n.getHours(),h:n.getHours()%12==0?12:n.getHours()%12,m:n.getMinutes(),s:n.getSeconds(),S:n.getMilliseconds()},o=["\u5929","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];for(var a in r)t(a);return e}},3773:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>p,contentTitle:()=>d,default:()=>m,frontMatter:()=>u,metadata:()=>f,toc:()=>h});var r,o=t(8168),a=t(8587),i=(t(6540),t(6665)),c=t(8478),s=t(8279),l=["components"],u={},d="loading",f={unversionedId:"loading",id:"loading",title:"loading",description:"",source:"@site/doc/03-loading.md",sourceDirName:".",slug:"/loading",permalink:"/loading",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"\u6d4b\u8bd5",permalink:"/time"},next:{title:"README",permalink:"/api/"}},p={},h=[],g=(r="IcePkgDemo_doc_03_loading_0",{toc:h}),v="wrapper";function m(n){var e=n.components,r=(0,a.A)(n,l);return(0,i.yg)(v,(0,o.A)({},g,r,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"loading"},"loading"),(0,i.yg)(s.A,{code:"import { showLoading, hideLoading } from 'youtil';\nimport { useEffect } from 'react';\n\nconst App = () => {\n    return <div>\n        <a href=\"javascript:;\" onClick={() => showLoading('\u6b63\u5728\u52a0\u8f7d...', 10)}>\u663e\u793aloading\uff0810\u79d2\u81ea\u52a8\u5173\u95ed\uff09</a><br />\n        <a href=\"javascript:;\" onClick={() => hideLoading()}>\u5173\u95edloading</a><br />\n        <a href=\"javascript:;\" onClick={() => showLoading('\u6b63\u5728\u52a0\u8f7d...', 0)}>\u4e00\u76f4\u663e\u793a</a><br />\n        <a href=\"javascript:;\" onClick={() => showLoading('\u6b63\u5728\u52a0\u8f7d...', 0, {\n            onCancel: () => alert('\u4f60\u70b9\u51fb\u4e86\u53d6\u6d88')\n        })}>\u652f\u6301\u53d6\u6d88</a><br />\n        <a href=\"javascript:;\" onClick={() => showLoading('\u6b63\u5728\u52a0\u8f7d...', 0, {\n            onCancel: () => alert('\u4f60\u70b9\u51fb\u4e86\u53d6\u6d88'),\n            cancelInline: true,\n        })}>\u53d6\u6d88\u4e0d\u6362\u884c</a><br />\n        <a href=\"javascript:;\" onClick={() => showLoading('\u53d1\u751f\u7684\u5bb6\u4e50\u9e21\u7c89\u53d7\u6253\u51fb\u4e86\u653e\u5927\u968f\u673a\u53d1\u9001\u8fbe\u4e86', 0)}>\u8d85\u5bbd\u6587\u5b57</a><br />\n        <a href=\"javascript:;\" onClick={() => showLoading('\u6b63\u5728\u52a0\u8f7d', 10, { hasMask: true })}>\u663e\u793a\u906e\u7f69</a><br />\n    </div>;\n}\n\nexport default App;",mobilePreview:!1,url:"/demos/IcePkgDemo_doc_03_loading_0/?",mdxType:"Previewer"},(0,i.yg)(c.A,{mdxType:"BrowserOnly"},(function(){var n=t(6363).A;return(0,i.yg)(n,{mdxType:"IcePkgDemo_doc_03_loading_0"})}))))}m.isMDXComponent=!0},6363:(n,e,t)=>{t.d(e,{A:()=>a});var r=t(2655),o=(t(6540),t(757).A);const a=function(){return o("div",null,o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u6b63\u5728\u52a0\u8f7d...",10)}},"\u663e\u793aloading\uff0810\u79d2\u81ea\u52a8\u5173\u95ed\uff09"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.RZ)()}},"\u5173\u95edloading"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u6b63\u5728\u52a0\u8f7d...",0)}},"\u4e00\u76f4\u663e\u793a"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u6b63\u5728\u52a0\u8f7d...",0,{onCancel:function(){return alert("\u4f60\u70b9\u51fb\u4e86\u53d6\u6d88")}})}},"\u652f\u6301\u53d6\u6d88"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u6b63\u5728\u52a0\u8f7d...",0,{onCancel:function(){return alert("\u4f60\u70b9\u51fb\u4e86\u53d6\u6d88")},cancelInline:!0})}},"\u53d6\u6d88\u4e0d\u6362\u884c"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u53d1\u751f\u7684\u5bb6\u4e50\u9e21\u7c89\u53d7\u6253\u51fb\u4e86\u653e\u5927\u968f\u673a\u53d1\u9001\u8fbe\u4e86",0)}},"\u8d85\u5bbd\u6587\u5b57"),o("br",null),o("a",{href:"javascript:;",onClick:function(){return(0,r.Cs)("\u6b63\u5728\u52a0\u8f7d",10,{hasMask:!0})}},"\u663e\u793a\u906e\u7f69"),o("br",null))}}}]);